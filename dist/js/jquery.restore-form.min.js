/**
 * @file jquery.restore-form.min.js
 * @brief jQuery plugin to restore the original values of form's fields. 
 * @author Sebasti√°n Seval <eseval@santafe.gov.ar>
 * @version 0.1
 * @requires jQuery v1.4.2 or later
 * @license MIT license <http://www.opensource.org/licenses/MIT>
 *
 * jquery.restore-form.min.js is a jQuery plugin to restore the original values of form's fields. 
 *
 */
!function(t){function e(e){return t(e).find(t.restoreformOptions.elements.join(",")).toArray()}function i(t){return t.getAttribute("data-original-value")!==s(t)}function n(e){var i,n;return{id:e.id,name:e.name,tag:(i=e,t(`#${i.id}`).get(0).tagName.toLowerCase()),type:r(e),text:(n=e,t(`#${n.id}`).attr("title")||t(`label[for="${n.id}"]`).text()),value:s(e)}}function r(e){return t(`#${e.id}`).get(0).type.toLowerCase()}function s(e){let i=r(e);if("select-multiple"==i)return t(`#${e.id}`).val().join(",");if("radio"==i){let n=t(`input[name=${e.getAttribute("name")}]:checked`).val(),s=e.getAttribute("data-original-value");return t(`#${e.id}`).is(":checked")?n:s||n}return"checkbox"==i?t(`#${e.id}`).is(":checked").toString():t(`#${e.id}`).val()}t.fn.restoreform=function(a){var o=this;return a=t.extend({class:this.attr("class")||".restore",elements:this.attr("elements")||{},onRestore:this.attr("onRestore")||{},onSelect:this.attr("onSelect")||{},onChange:this.attr("onChange")||{}},a||{}),jQuery.isEmptyObject(a.elements)&&(a.elements=[`input${a.class}`,`select${a.class}`,`textarea${a.class}`]),t.restoreformOptions=a,this.elements=function(){return e(this)},this.changes=function(){let r=e(this).filter(i);return t.map(r,n)},this.restore=function(e){return jQuery.isEmptyObject(e)?(t.each(this.elements(),function(t,e){o.restore(e)}),!1):!1==e.id in a.onRestore?(this.setValue(e),!1):function t(e,i){let n=Array.prototype.slice.call(arguments,2);return i[e].apply(i,n)}(e.id,a.onRestore,e)},this.isChanged=function(t){return jQuery.isEmptyObject(t)?this.hasChanges():i(t)},this.hasChanges=function(){let t=this.getChanges();return t.length>0},this.getChanges=this.changes,this.setValue=function(e){let i=t(`#${e.id}`).attr("data-original-value"),n=r(e);if("radio"==n){let s=t(`#${e.id}`).attr("name"),a=t(`input[name=${s}][value=${i}]`).attr("id");return t(`#${a}`).prop("checked",!0),this}if("checkbox"==n){let o="true"===i.toLowerCase();return t(`#${e.id}`).prop("checked",o),this}return t(`#${e.id}`).val(i),this},this.setData=this.setValue,this.each(function(){t.each(e(this),function(){t(this).attr("data-original-value",s(this))})}),this}}(jQuery);